"""Configuration file for job application automation"""
import os
from dotenv import load_dotenv

load_dotenv()

# Target job criteria for Munich market
JOB_CRITERIA = {
    "locations": ["Munich", "München", "Bavaria", "Bayern", "Germany", "Remote"],
    "job_titles": [
        "Junior IT Project Manager", "IT Project Manager", "Junior Project Manager",
        "Data Analyst", "Junior Data Analyst", "Business Analyst", "Project Coordinator"
    ],
    "keywords": [
        "python", "sql", "data analysis", "etl", "project management",
        "agile", "scrum", "stakeholder", "waterfall", "confluence",
        "jira", "powerbi", "tableau", "excel"
    ],
    "exclude_keywords": ["senior", "lead", "principal", "director", "head of"],
    "min_match_score": 0.75,
    "max_jobs_per_run": 50
}

# API Keys
APIFY_API_KEY = os.getenv("APIFY_API_KEY")
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
GOOGLE_SHEETS_CREDS = os.getenv("GOOGLE_SHEETS_CREDENTIALS")
SHEET_ID = os.getenv("SHEET_ID")

# Resume Configuration
RESUME_SOURCE = os.getenv("RESUME_SOURCE", "pdf")  # "pdf" or "flowcv"
RESUME_PDF_PATH = os.getenv("RESUME_PDF_PATH", "data/base_resume.pdf")
FLOWCV_RESUME_ID = os.getenv("FLOWCV_RESUME_ID")
FLOWCV_API_KEY = os.getenv("FLOWCV_API_KEY")

# Email Integration (Gmail API)
GMAIL_CREDENTIALS = os.getenv("GMAIL_CREDENTIALS")
GMAIL_TOKEN = os.getenv("GMAIL_TOKEN")
MONITOR_EMAIL = os.getenv("MONITOR_EMAIL")  # Your job search email

# Application Automation Settings
APPLICATION_SETTINGS = {
    "auto_apply_company_website": True,  # Try to apply on company careers page
    "skip_if_captcha": True,  # Skip and send link if CAPTCHA detected
    "max_apply_attempts": 3,
    "notify_captcha_via_email": True,
    "captcha_notification_email": os.getenv("NOTIFICATION_EMAIL")
}

# Email Monitoring Keywords
EMAIL_KEYWORDS = {
    "interview": ["interview", "gespräch", "meeting", "call", "video interview"],
    "rejection": ["unfortunately", "bedauern", "not selected", "another candidate"],
    "offer": ["offer", "angebot", "congratulations", "glückwunsch"],
    "assessment": ["assessment", "test", "challenge", "assignment", "aufgabe"]
}


# Country-Specific Resume Formatting
COUNTRY_RESUME_FORMATS = {
    "germany": {
        "max_pages": 2,
        "include_photo": True,  # German CVs typically include professional photo
        "include_date_of_birth": True,
        "include_marital_status": False,  # Optional, modern practice avoids this
        "date_format": "DD.MM.YYYY",
        "paper_size": "A4",
        "sections_order": ["personal_info", "photo", "professional_summary", "work_experience", "education", "skills", "languages", "certifications"],
        "language": "de",  # Can auto-translate or use bilingual
        "title_style": "Lebenslauf",
        "address_format": "full",  # Include full address
        "references": "auf Anfrage"  # "Available upon request" in German
    },
    "usa": {
        "max_pages": 1,
        "include_photo": False,  # US law discourages photos to prevent discrimination
        "include_date_of_birth": False,
        "include_marital_status": False,
        "date_format": "MM/DD/YYYY",
        "paper_size": "Letter",
        "sections_order": ["professional_summary", "work_experience", "education", "skills", "certifications"],
        "language": "en",
        "title_style": "Resume",
        "address_format": "city_state",  # City, State only
        "references": "Available upon request"
    },
    "uk": {
        "max_pages": 2,
        "include_photo": False,
        "include_date_of_birth": False,
        "include_marital_status": False,
        "date_format": "DD/MM/YYYY",
        "paper_size": "A4",
        "sections_order": ["personal_statement", "work_experience", "education", "skills", "interests"],
        "language": "en",
        "title_style": "Curriculum Vitae",
        "address_format": "full",
        "references": "References available on request"
    }
}

# Default country preference (auto-detected from job location or set manually)
DEFAULT_COUNTRY = os.getenv("RESUME_COUNTRY", "germany")  # For Munich jobs
